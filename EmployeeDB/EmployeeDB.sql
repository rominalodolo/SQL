-- This script was generated by a beta version of the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.

CREATE TABLE IF NOT EXISTS public."Employees"
(
    emp_id bigserial,
    first_name character varying(50),
    surname character varying(50),
    gender character varying(25),
    address character varying(50),
    email character varying(50),
    depart_id character varying(25),
    role_id character varying(20),
    salary_id money,
    overtime_id integer,
    CONSTRAINT employee_id PRIMARY KEY (emp_id)
);

COMMENT ON TABLE public."Employees"
    IS 'Employee table ';

CREATE TABLE IF NOT EXISTS public."Department"
(
    depart_id bigserial,
    depart_name character varying(50),
    depart_city character varying(50),
    PRIMARY KEY (depart_id)
);

COMMENT ON TABLE public."Department"
    IS 'Department table';

CREATE TABLE IF NOT EXISTS public."Roles"
(
    role_id bigserial,
    role character varying(25),
    PRIMARY KEY (role_id)
);

COMMENT ON TABLE public."Roles"
    IS 'Roles table';

CREATE TABLE IF NOT EXISTS public.salaries
(
    salaries_id bigserial,
    salary_pa money,
    PRIMARY KEY (salaries_id)
);

COMMENT ON TABLE public.salaries
    IS 'Salaries table';

CREATE TABLE IF NOT EXISTS public."Overtime Hours"
(
    overtime_id bigserial,
    overtime_hours integer,
    PRIMARY KEY (overtime_id)
);

ALTER TABLE IF EXISTS public."Employees"
    ADD CONSTRAINT depart_id FOREIGN KEY (depart_id)
    REFERENCES public."Department" (depart_id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE CASCADE
    NOT VALID;


ALTER TABLE IF EXISTS public."Employees"
    ADD CONSTRAINT role_id FOREIGN KEY (role_id)
    REFERENCES public."Roles" (role) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE CASCADE
    NOT VALID;


ALTER TABLE IF EXISTS public."Employees"
    ADD CONSTRAINT salary_id FOREIGN KEY (salary_id)
    REFERENCES public.salaries (salaries_id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Employees"
    ADD CONSTRAINT overtime_id FOREIGN KEY (overtime_id)
    REFERENCES public."Overtime Hours" (overtime_id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE CASCADE
    NOT VALID;
